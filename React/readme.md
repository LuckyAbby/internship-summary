record the problems I encountered when learning react

### 当React里面需要发送Ajax请求的时
React不负责处理网络请求，如果想在React里面处理网络请求，一般是在componentDidMount阶段发送Ajax请求，那得到的数据应该存放在哪里？

我认为，得到的数据都应该是之前存放在组件的state里面，再通过setState去更新UI的变化，那在整个项目中到底这些state应该放在哪个组件里面呢？

1. 所有数据都存放在最外层组件里

在最外层的父组件里面去发送Ajax请求，然后将数据作为props传给子组件，但是这种方式的缺点就是如果项目特别大，子组件需要的数据特别多，那么父组件又需要维护一份子组件的state,这样会导致父组件可能不停地被重绘，性能不好，同时如果项目层级嵌套比较深，数据一层一层下传也不方便。

2. 让子组件自己发Ajax维护自己的state

如果一个子组件需要的数据比较多，比如可能是一个表单组件，这个时候如果让父组件去维护整个state，可能会导致性能不好，让子组件自己去发送Ajax去拿到自己的数据，然后维护自己的state,最后再暴露出一个接口，可以将父组件需要的数据返回出去，父组件通过ref取得子组件，再调用上面的方法，就可以拿到子组件的值，这样的优点是让组件维护自己的state,避免一些不必要的重绘。缺点就是有时候如果子组件比较多，嵌套层级比较深，可能会导致数据在父子组件、兄弟组件之间传递很混乱。

3. 使用redux

使用redux管理状态和数据之后所有的网络请求都有redux去完成，因为自己redux不是很熟，所以也没有很多经验，这里先保留，等之后研究了再写。